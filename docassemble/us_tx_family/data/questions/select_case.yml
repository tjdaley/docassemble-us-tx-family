---
modules:
  - docassemble.base.legal
  - docassemble.us_tx_family.functions
---
include:
  - docassemble.us_tx_family:all_docs.yml
---
question: Select a case or add a new one.
section: case
decoration: balance-scale
fields:
  - Case: case_key
    code: |
      my_cases(user_info().email)
---
mandatory: True
code: |
  case_key
  if case_key != '*ADD*':
    case = get_case(user_info().email, case_key)
  if case == '*NONE*':
    case = Case()
---
mandatory: True
code: |
  case.case_id
  save_case(user_info().email, case)
  is_saved = "TRUE"
---