---
metadata:
  description: |
    This question file contains questions that are common in
    Texas Family Law-related interviews.

  authors:
    - name: Thomas J. Daley, J.D.
      organization: attorney.bot
  revision_date: 2020-01-11
---
modules:
  - .functions
  - .objects
---
objects:
  - doc: LegalFiling
  - case: Case
---
include:
  - basic-questions.yml
  - docassemble.us_tx_family:attorney.yml
  - docassemble.us_tx_family:terms.yml
---
mandatory: True
code: |
  case.state = "TEXAS"
  case.country = "US"
  case.court.name = "District Court"
  case.court.jurisdiction = list('Texas')
  try:
    del case.plaintiff
    del case.defendant
  except:
    pass
  case.initializeAttribute('petitioner', RepresentedPartyList)
  case.initializeAttribute('respondent', RepresentedPartyList)
  case.initializeAttribute('child', ChildList)
  case.initializeAttribute('asset', DAList)
  case.initializeAttribute('liability', DAList)
  case.initializeAttribute('attorney', AttorneyList)
  case.initializeAttribute('me', Attorney)
  case.firstParty = case.petitioner
  case.secondParty = case.respondent
  doc.case = case
  attorneys = case.attorney
---
mandatory: True
code: |
  # Gather attorney in charge
  if me():
    case.me = me()
  else:
    save_me(case.me)

  if not case.attorney.contains(case.me):
    case.attorney.clear()
    case.attorney.appendObject(Attorney)
    case.attorney[0] = case.me
---
mandatory: True
code: |
  # Gather remaining attorneys
  case.attorney.gather()

  # Now Populate the basic case information
  case.petitioner.gather(minimum=1)
  case.respondent.gather(minimum=1)
---
mandatory: True
code: |
  # Associate an attorney for each party
  for p in case.petitioner:
    if p.attorney.bar_number != '':
      pass
  for p in case.respondent:
    if p.attorney.bar_number != '':
      pass
---
generic object: Individual
section: case
decoration: balance-scale
sets: x.attorney.bar_number
question: |
  Who represents ${x}?
fields:
  - Attorney: x.attorney
    datatype: object
    choices:  case.attorney
---
event: xon_error
decoration: bomb
question: |
  We have encountered an error.
subquestion: |
  My apologies. We've encountered an error. It has been reported
  to the help desk. Please try again later. /tjd/
buttons:
  - Exit: exit
    url: https://www.powerdaley.com
---
section: case
decoration: balance-scale
question: |
  Divorce or Anulment?
subquestion: |
  Is this form being used in a marriage dissolution case (divorce or anulment)?
yesno: case.is_divorce
---
section: case
decoration: balance-scale
question: |
  What county has your case been filed in?
mandatory: False
fields:
  - County: case.county
    code: |
      counties()
    help: This is the county within ${case.state} where your case was filed.
---
section: case
decoration: balance-scale
question: |
  Tell me a little more about your case.
fields:
  - Court number: case.court.court_id
    code: |
      courts(case.county)
  - Cause number: case.case_id
  - Footer text: case.footer
    help: This text summarizes the case style and appears in footers, e.g. "IMMO DALEY AND DALEY"
---